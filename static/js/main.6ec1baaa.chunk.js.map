{"version":3,"sources":["components/page/HomePage.js","components/services.js","components/App.js","index.js"],"names":["HomePage","state","className","this","props","movies","map","item","key","id","onClick","getDetails","to","original_title","Component","keyApi","getData","axios","get","then","data","results","console","log","getCasts","cast","getReviews","searchMovies","searchValue","getMovieDetails","MoviesPage","lazy","MovieDetailsPage","App","findedMovies","currentMovie","review","currentMovieId","value","handleChange","e","setState","target","handleSubmit","preventDefault","services","getMovies","getMovieCast","a","async","getMovieReviews","reviews","persist","fallback","type","color","height","width","timeout","path","exact","render","inputValue","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6ec1baaa.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nclass HomePage extends Component {\r\n  state = {};\r\n  render() {\r\n    return (\r\n      <>\r\n        <h2 className=\"trendingTitle\">Trending Today</h2>\r\n        <ul className=\"startFilmsList\">\r\n          {this.props.movies.map(item => (\r\n            <li key={item.id}>\r\n              <Link\r\n                id={item.id}\r\n                onClick={this.props.getDetails}\r\n                to={`/movies/${item.id}`}\r\n              >\r\n                {item.original_title}\r\n              </Link>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </>\r\n    );\r\n  }\r\n}\r\nexport default HomePage;\r\n","import axios from \"axios\";\r\n\r\nconst keyApi = \"7dbf79a7ec9fee0ed11175b6a2c600f3\";\r\n\r\nexport default {\r\n  async getData() {\r\n    try {\r\n      const data = await axios\r\n        .get(\r\n          `https://api.themoviedb.org/3/trending/movie/day?api_key=${keyApi}`\r\n        )\r\n        .then(data => data.data.results);\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n  async getCasts(id) {\r\n    try {\r\n      const data = await axios\r\n        .get(\r\n          `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${keyApi}`\r\n        )\r\n        .then(data => data.data.cast);\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  async getReviews(id) {\r\n    try {\r\n      const data = await axios\r\n        .get(\r\n          `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${keyApi}&language=en-US&page=1`\r\n        )\r\n        .then(data => data.data.results);\r\n      return data;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  async searchMovies(searchValue) {\r\n    try {\r\n      const data = await axios.get(\r\n        `https://api.themoviedb.org/3/search/movie?api_key=${keyApi}&query=${searchValue}&language=en-US&page=1&include_adult=false`\r\n      );\r\n      return data.data.results;\r\n    } catch (err) {\r\n      throw err;\r\n    }\r\n  },\r\n  async getMovieDetails(id) {\r\n    try {\r\n      const data = await axios\r\n        .get(\r\n          `https://api.themoviedb.org/3/movie/${id}?api_key=${keyApi}&language=en-US`\r\n        )\r\n        .then(data => data.data);\r\n      return data;\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// `https://api.themoviedb.org/3/search/movie?api_key=${keyApi}&query=${searchValue}&page=1`\r\n","import \"./App.css\";\r\nimport React, { Component, Suspense, lazy } from \"react\";\r\nimport { Route, Switch, Redirect, Link } from \"react-router-dom\";\r\nimport HomePage from \"./page/HomePage\";\r\nimport services from \"./services\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nconst MoviesPage = lazy(() => import(\"./page/MoviesPage\"));\r\nconst MovieDetailsPage = lazy(() =>\r\n  import(\"./MovieDetailsPage/MoviesDetailsPage\")\r\n);\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    movies: [],\r\n    findedMovies: [],\r\n    currentMovie: {},\r\n    cast: [],\r\n    review: [],\r\n    currentMovieId: null,\r\n    value: \"\"\r\n  };\r\n  componentDidMount() {\r\n    this.getMovies();\r\n  }\r\n  handleChange = e => {\r\n    this.setState({ value: e.target.value });\r\n  };\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    services.searchMovies(this.state.value).then(data => {\r\n      console.log(\"data\", data);\r\n      this.setState({ findedMovies: data });\r\n    });\r\n  };\r\n  getMovies = () => {\r\n    services.getData().then(data => {\r\n      console.log(\"data\", data);\r\n      this.setState({ movies: data });\r\n    });\r\n  };\r\n  getMovieCast = async () => {\r\n    const cast = await services.getCasts(this.state.currentMovieId);\r\n    this.setState({\r\n      cast\r\n    });\r\n  };\r\n  getMovieReviews = async () => {\r\n    const reviews = await services.getReviews(this.state.currentMovieId);\r\n    this.setState({\r\n      reviews\r\n    });\r\n  };\r\n  getDetails = async e => {\r\n    e.persist();\r\n    const currentMovie = await services.getMovieDetails(+e.target.id);\r\n    this.setState({ currentMovie, currentMovieId: +e.target.id });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <div className=\"navLink\">\r\n          <Link to=\"/\">Home</Link>\r\n          <Link to=\"/movies\">Movies</Link>\r\n        </div>\r\n        <hr></hr>\r\n        <Suspense\r\n          fallback={\r\n            <Loader\r\n              type=\"Puff\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n              timeout={3000} //3 secs\r\n            />\r\n          }\r\n        >\r\n          <Switch>\r\n            <Route\r\n              path=\"/\"\r\n              exact\r\n              render={() => (\r\n                <HomePage\r\n                  movies={this.state.movies}\r\n                  getDetails={this.getDetails}\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/movies/:movieId\"\r\n              render={() => (\r\n                <MovieDetailsPage\r\n                  currentMovie={this.state.currentMovie}\r\n                  getMovieCast={this.getMovieCast}\r\n                  getMovieReviews={this.getMovieReviews}\r\n                  cast={this.state.cast}\r\n                  reviews={this.state.reviews}\r\n                />\r\n              )}\r\n            />\r\n            <Route\r\n              path=\"/movies\"\r\n              render={() => (\r\n                <MoviesPage\r\n                  findedMovies={this.state.findedMovies}\r\n                  handleChange={this.handleChange}\r\n                  handleSubmit={this.handleSubmit}\r\n                  inputValue={this.state.value}\r\n                  getDetails={this.getDetails}\r\n                />\r\n              )}\r\n            />\r\n\r\n            <Redirect to=\"/\" />\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}