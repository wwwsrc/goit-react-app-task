{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Modal/Modal.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/App.js","index.js"],"names":["Searchbar","getSearchValue","search","handleSubmit","className","onSubmit","type","onChange","autoComplete","autoFocus","placeholder","value","ImageGalleryItem","src","id","openModal","onClick","alt","Modal","object","handleKeyPress","handleBackdropClick","window","addEventListener","webformatURL","uuidv4","require","ImageGallery","images","isModalOpen","map","item","key","Button","handleLoad","API","Gallary","state","dataApi","page","isLoading","e","console","log","target","filter","Number","setState","getData","a","async","axios","get","request","data","hits","prevstate","error","preventDefault","close","event","code","prevProps","prevState","this","setTimeout","scrollTo","top","document","documentElement","scrollHeight","behavior","onreadystatechange","readyState","color","height","width","timeout","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2bfb68cf.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Searchbar = ({ getSearchValue, search, handleSubmit }) => {\n  return (\n    <div>\n      <header className=\"Searchbar\">\n        <form onSubmit={handleSubmit} className=\"SearchForm\">\n          <button type=\"submit\" className=\"SearchForm-button\">\n            <span className=\"SearchForm-button-label\">Search</span>\n          </button>\n\n          <input\n            onChange={getSearchValue}\n            className=\"SearchForm-input\"\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={search}\n          />\n        </form>\n      </header>\n    </div>\n  );\n};\n\nexport default Searchbar;\n","import React from \"react\";\n\nconst ImageGalleryItem = ({ src, id, openModal }) => (\n  <li className=\"ImageGalleryItem\">\n    <img\n      onClick={openModal}\n      src={src}\n      id={id}\n      alt=\"der\"\n      className=\"ImageGalleryItem-image\"\n    />\n  </li>\n);\n\nexport default ImageGalleryItem;\n","import React from \"react\";\n\nconst Modal = ({ id, object, handleKeyPress, handleBackdropClick }) => {\n  window.addEventListener(\"keyup\", handleKeyPress);\n  return (\n    <div\n      className=\"Overlay\"\n      // onKeyPress={handleKeyPress}\n      onClick={handleBackdropClick}\n      id={id}\n    >\n      <div className=\"Modal\">\n        <img src={object.webformatURL} alt=\"sfcw\" />\n      </div>\n    </div>\n  );\n};\n\nexport default Modal;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Modal from \"../Modal/Modal\";\nconst uuidv4 = require(\"uuid/v4\");\n\nconst ImageGallery = ({\n  images,\n  openModal,\n  isModalOpen,\n  id,\n  object,\n  handleKeyPress,\n  handleBackdropClick\n}) => {\n  return (\n    <>\n      {isModalOpen && (\n        <Modal\n          id={id}\n          object={object}\n          handleKeyPress={handleKeyPress}\n          handleBackdropClick={handleBackdropClick}\n        />\n      )}\n      <ul className=\"ImageGallery\">\n        {images.map(item => (\n          <ImageGalleryItem\n            key={uuidv4()}\n            src={item.webformatURL}\n            id={item.id}\n            openModal={openModal}\n          />\n        ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nconst Button = ({ handleLoad }) => (\n  <button className=\"Button\" onClick={handleLoad}>\n    Load more\n  </button>\n);\n\nexport default Button;\n","import React, { Component } from \"react\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport \"./App.css\";\nimport Button from \"./Button/Button\";\nimport Loader from \"react-loader-spinner\";\nimport axios from \"axios\";\n/* import \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\"; */\n\n//const api_key = \"14452774-766286a273532ef73a45b39e7\";\n\nconst key = \"14968474-2f10c7b724ec59304454e7a07\";\nconst API = \"https://pixabay.com/api\";\n\nexport default class Gallary extends Component {\n  state = {\n    dataApi: [],\n    isModalOpen: false,\n    id: null,\n    page: 1,\n    object: {},\n    search: \"\",\n    isLoading: false\n  };\n\n  openModal = e => {\n    console.log(\"e.target.id\", e.target.id);\n    const [object] = this.state.dataApi.filter(\n      item => item.id === Number(e.target.id)\n    );\n    this.setState({ isModalOpen: true, id: e.target.id, object: object });\n  };\n  getSearchValue = e => {\n    this.setState({ search: e.target.value });\n  };\n  /* getData = () => {\n    this.setState({\n      isLoading: true\n    });\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${this.state.search}&page=${this.state.page}&key=${api_key}&image_type=photo&orientation=horizontal&per_page=12`\n      )\n      .then(data => {\n        this.setState(state => ({\n          page: state.page + 1,\n          dataApi: [...state.dataApi, ...data.data.hits]\n        }));\n      })\n      .finally(() => this.setState({ isLoading: false }));\n  }; */\n\n  getData = async () => {\n    /* this.setState({\n      isLoading: true\n    }); */\n\n    try {\n      this.setState({ isLoading: true });\n      const request = await axios.get(\n        `${API}/?q=${this.state.search}&page=${this.state.page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n      );\n      const images = request.data.hits;\n      await this.setState(prevstate => ({\n        dataApi: [...prevstate.dataApi, ...images],\n        isLoading: false,\n        page: prevstate.page + 1\n      }));\n    } catch (error) {\n      this.setState({ error });\n    }\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({\n      dataApi: [],\n      page: 1\n    });\n    this.getData();\n  };\n\n  handleLoad = e => {\n    this.getData();\n  };\n\n  close = () => {\n    this.setState({ isModalOpen: false });\n  };\n\n  handleKeyPress = event => {\n    // console.log(\"event\", event);\n    if (event.code === \"Escape\") {\n      this.close();\n    }\n  };\n  handleBackdropClick = event => {\n    if (Number(event.target.id) === Number(this.state.object.id)) {\n      this.close();\n    }\n  };\n  componentDidUpdate(prevProps, prevState) {\n    /* if (\n      prevState.search !== this.state.search ||\n      prevState.page !== this.state.page\n    ) {\n      if (prevState.search !== this.state.search) {\n        this.setState({ dataApi: [], page: 1 });\n      }\n    } */\n    if (prevState.page !== this.state.page) {\n      setTimeout(\n        () =>\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\"\n          }),\n        500\n      );\n      document.onreadystatechange = function() {\n        if (document.readyState === \"complete\") {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: \"smooth\"\n          });\n          console.log(\"Azazaza!\");\n        }\n      };\n    }\n  }\n\n  render() {\n    console.log(\"this.state.dataApi\", this.state.dataApi);\n    const { isLoading } = this.state;\n\n    return (\n      <div className=\"App\">\n        <Searchbar\n          search={this.state.search}\n          getSearchValue={this.getSearchValue}\n          handleSubmit={this.handleSubmit}\n        />\n\n        <ImageGallery\n          handleKeyPress={this.handleKeyPress}\n          handleBackdropClick={this.handleBackdropClick}\n          object={this.state.object}\n          images={this.state.dataApi}\n          openModal={this.openModal}\n          isModalOpen={this.state.isModalOpen}\n          id={this.state.id}\n        />\n        {isLoading && (\n          <Loader\n            className=\"loader\"\n            type=\"ThreeDots\"\n            color=\"palevioletred\"\n            height={500}\n            width={500}\n            timeout={3000} //3 secs\n          />\n        )}\n        <Button handleLoad={this.handleLoad} />\n      </div>\n    );\n  }\n}\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}