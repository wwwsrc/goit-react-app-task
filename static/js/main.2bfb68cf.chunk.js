(this["webpackJsonpreact-hw-01-components"]=this["webpackJsonpreact-hw-01-components"]||[]).push([[0],{23:function(e,t,a){e.exports=a(72)},32:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(14),r=a.n(o),l=a(3),s=a.n(l),i=a(4),d=a(20),u=a(15),m=a(16),h=a(21),p=a(17),g=a(22),b=function(e){var t=e.getSearchValue,a=e.search,n=e.handleSubmit;return c.a.createElement("div",null,c.a.createElement("header",{className:"Searchbar"},c.a.createElement("form",{onSubmit:n,className:"SearchForm"},c.a.createElement("button",{type:"submit",className:"SearchForm-button"},c.a.createElement("span",{className:"SearchForm-button-label"},"Search")),c.a.createElement("input",{onChange:t,className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:a}))))},f=function(e){var t=e.src,a=e.id,n=e.openModal;return c.a.createElement("li",{className:"ImageGalleryItem"},c.a.createElement("img",{onClick:n,src:t,id:a,alt:"der",className:"ImageGalleryItem-image"}))},v=function(e){var t=e.id,a=e.object,n=e.handleKeyPress,o=e.handleBackdropClick;return window.addEventListener("keyup",n),c.a.createElement("div",{className:"Overlay",onClick:o,id:t},c.a.createElement("div",{className:"Modal"},c.a.createElement("img",{src:a.webformatURL,alt:"sfcw"})))},E=a(29),y=function(e){var t=e.images,a=e.openModal,n=e.isModalOpen,o=e.id,r=e.object,l=e.handleKeyPress,s=e.handleBackdropClick;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(v,{id:o,object:r,handleKeyPress:l,handleBackdropClick:s}),c.a.createElement("ul",{className:"ImageGallery"},t.map((function(e){return c.a.createElement(f,{key:E(),src:e.webformatURL,id:e.id,openModal:a})}))))},S=(a(32),function(e){var t=e.handleLoad;return c.a.createElement("button",{className:"Button",onClick:t},"Load more")}),k=a(18),w=a.n(k),j=a(19),N=a.n(j),O="14968474-2f10c7b724ec59304454e7a07",M="https://pixabay.com/api",C=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(c)))).state={dataApi:[],isModalOpen:!1,id:null,page:1,object:{},search:"",isLoading:!1},a.openModal=function(e){console.log("e.target.id",e.target.id);var t=a.state.dataApi.filter((function(t){return t.id===Number(e.target.id)})),n=Object(d.a)(t,1)[0];a.setState({isModalOpen:!0,id:e.target.id,object:n})},a.getSearchValue=function(e){a.setState({search:e.target.value})},a.getData=function(){var e,t;return s.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a.setState({isLoading:!0}),n.next=4,s.a.awrap(N.a.get("".concat(M,"/?q=").concat(a.state.search,"&page=").concat(a.state.page,"&key=").concat(O,"&image_type=photo&orientation=horizontal&per_page=12")));case 4:return e=n.sent,t=e.data.hits,n.next=8,s.a.awrap(a.setState((function(e){return{dataApi:[].concat(Object(i.a)(e.dataApi),Object(i.a)(t)),isLoading:!1,page:e.page+1}})));case 8:n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a.setState({error:n.t0});case 13:case"end":return n.stop()}}),null,null,[[0,10]])},a.handleSubmit=function(e){e.preventDefault(),a.setState({dataApi:[],page:1}),a.getData()},a.handleLoad=function(e){a.getData()},a.close=function(){a.setState({isModalOpen:!1})},a.handleKeyPress=function(e){"Escape"===e.code&&a.close()},a.handleBackdropClick=function(e){Number(e.target.id)===Number(a.state.object.id)&&a.close()},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.page!==this.state.page&&(setTimeout((function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}),500),document.onreadystatechange=function(){"complete"===document.readyState&&(window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),console.log("Azazaza!"))})}},{key:"render",value:function(){console.log("this.state.dataApi",this.state.dataApi);var e=this.state.isLoading;return c.a.createElement("div",{className:"App"},c.a.createElement(b,{search:this.state.search,getSearchValue:this.getSearchValue,handleSubmit:this.handleSubmit}),c.a.createElement(y,{handleKeyPress:this.handleKeyPress,handleBackdropClick:this.handleBackdropClick,object:this.state.object,images:this.state.dataApi,openModal:this.openModal,isModalOpen:this.state.isModalOpen,id:this.state.id}),e&&c.a.createElement(w.a,{className:"loader",type:"ThreeDots",color:"palevioletred",height:500,width:500,timeout:3e3}),c.a.createElement(S,{handleLoad:this.handleLoad}))}}]),t}(n.Component);r.a.render(c.a.createElement(C,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.2bfb68cf.chunk.js.map